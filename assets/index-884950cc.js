import{a as e,j as t,T as a,C as r,G as s}from"./mui-56a233f4.js";import{d as n,r as i,B as o,f as c,h as d,N as l,b as u}from"./vendor-2c736f18.js";import{a as p,c as f,u as m,b as h,d as y,Q as g,e as v}from"./utils-18e1ec00.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var b={},_=n;b.createRoot=_.createRoot,b.hydrateRoot=_.hydrateRoot;const w={},j=function(e,t,a){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in w)return;w[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(!!a)for(let a=r.length-1;a>=0;a--){const s=r[a];if(s.href===e&&(!t||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${e}"]${s}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((t,a)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))};let k,x,T,S={data:""},E=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||S,P=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,O=/\/\*[^]*?\*\/|  +/g,A=/\n+/g,I=(e,t)=>{let a="",r="",s="";for(let n in e){let i=e[n];"@"==n[0]?"i"==n[1]?a=n+" "+i+";":r+="f"==n[1]?I(i,n):n+"{"+I(i,"k"==n[1]?"":t)+"}":"object"==typeof i?r+=I(i,t?t.replace(/([^,])+/g,(e=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):n):null!=i&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=I.p?I.p(n,i):n+":"+i+";")}return a+(t&&s?t+"{"+s+"}":s)+r},R={},F=e=>{if("object"==typeof e){let t="";for(let a in e)t+=a+F(e[a]);return t}return e},z=(e,t,a,r,s)=>{let n=F(e),i=R[n]||(R[n]=(e=>{let t=0,a=11;for(;t<e.length;)a=101*a+e.charCodeAt(t++)>>>0;return"go"+a})(n));if(!R[i]){let t=n!==e?e:(e=>{let t,a,r=[{}];for(;t=P.exec(e.replace(O,""));)t[4]?r.shift():t[3]?(a=t[3].replace(A," ").trim(),r.unshift(r[0][a]=r[0][a]||{})):r[0][t[1]]=t[2].replace(A," ").trim();return r[0]})(e);R[i]=I(s?{["@keyframes "+i]:t}:t,a?"":"."+i)}let o=a&&R.g?R.g:null;return a&&(R.g=R[i]),((e,t,a,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=a?e+t.data:t.data+e)})(R[i],t,r,o),i};function D(e){let t=this||{},a=e.call?e(t.p):e;return z(a.unshift?a.raw?((e,t,a)=>e.reduce(((e,r,s)=>{let n=t[s];if(n&&n.call){let e=n(a),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?"."+t:e&&"object"==typeof e?e.props?"":I(e,""):!1===e?"":e}return e+r+(null==n?"":n)}),""))(a,[].slice.call(arguments,1),t.p):a.reduce(((e,a)=>Object.assign(e,a&&a.call?a(t.p):a)),{}):a,E(t.target),t.g,t.o,t.k)}D.bind({g:1});let L=D.bind({k:1});function C(e,t){let a=this||{};return function(){let r=arguments;function s(n,i){let o=Object.assign({},n),c=o.className||s.className;a.p=Object.assign({theme:x&&x()},o),a.o=/ *go\d+/.test(c),o.className=D.apply(a,r)+(c?" "+c:""),t&&(o.ref=i);let d=e;return e[0]&&(d=o.as||e,delete o.as),T&&d[0]&&T(o),k(d,o)}return t?t(s):s}}var $=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,q=(()=>{let e=0;return()=>(++e).toString()})(),N=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),K=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:a}=t;return K(e,{type:e.toasts.find((e=>e.id===a.id))?1:0,toast:a});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+s})))}}},M=[],U={toasts:[],pausedAt:void 0},Q=e=>{U=K(U,e),M.forEach((e=>{e(U)}))},H={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},V=e=>(t,a)=>{let r=((e,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...a,id:(null==a?void 0:a.id)||q()}))(t,e,a);return Q({type:2,toast:r}),r.id},W=(e,t)=>V("blank")(e,t);W.error=V("error"),W.success=V("success"),W.loading=V("loading"),W.custom=V("custom"),W.dismiss=e=>{Q({type:3,toastId:e})},W.remove=e=>Q({type:4,toastId:e}),W.promise=(e,t,a)=>{let r=W.loading(t.loading,{...a,...null==a?void 0:a.loading});return"function"==typeof e&&(e=e()),e.then((e=>{let s=t.success?$(t.success,e):void 0;return s?W.success(s,{id:r,...a,...null==a?void 0:a.success}):W.dismiss(r),e})).catch((e=>{let s=t.error?$(t.error,e):void 0;s?W.error(s,{id:r,...a,...null==a?void 0:a.error}):W.dismiss(r)})),e};var B=(e,t)=>{Q({type:1,toast:{id:e,height:t}})},J=()=>{Q({type:5,time:Date.now()})},X=new Map,Y=e=>{let{toasts:t,pausedAt:a}=((e={})=>{let[t,a]=i.useState(U),r=i.useRef(U);i.useEffect((()=>(r.current!==U&&a(U),M.push(a),()=>{let e=M.indexOf(a);e>-1&&M.splice(e,1)})),[]);let s=t.toasts.map((t=>{var a,r,s;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(a=e[t.type])?void 0:a.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||H[t.type],style:{...e.style,...null==(s=e[t.type])?void 0:s.style,...t.style}}}));return{...t,toasts:s}})(e);i.useEffect((()=>{if(a)return;let e=Date.now(),r=t.map((t=>{if(t.duration===1/0)return;let a=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(a<0))return setTimeout((()=>W.dismiss(t.id)),a);t.visible&&W.dismiss(t.id)}));return()=>{r.forEach((e=>e&&clearTimeout(e)))}}),[t,a]);let r=i.useCallback((()=>{a&&Q({type:6,time:Date.now()})}),[a]),s=i.useCallback(((e,a)=>{let{reverseOrder:r=!1,gutter:s=8,defaultPosition:n}=a||{},i=t.filter((t=>(t.position||n)===(e.position||n)&&t.height)),o=i.findIndex((t=>t.id===e.id)),c=i.filter(((e,t)=>t<o&&e.visible)).length;return i.filter((e=>e.visible)).slice(...r?[c+1]:[0,c]).reduce(((e,t)=>e+(t.height||0)+s),0)}),[t]);return i.useEffect((()=>{t.forEach((e=>{if(e.dismissed)((e,t=1e3)=>{if(X.has(e))return;let a=setTimeout((()=>{X.delete(e),Q({type:4,toastId:e})}),t);X.set(e,a)})(e.id,e.removeDelay);else{let t=X.get(e.id);t&&(clearTimeout(t),X.delete(e.id))}}))}),[t]),{toasts:t,handlers:{updateHeight:B,startPause:J,endPause:r,calculateOffset:s}}},G=L`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Z=L`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ee=L`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,te=C("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${G} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Z} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ee} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ae=L`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,re=C("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ae} 1s linear infinite;
`,se=L`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ne=L`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ie=C("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${se} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ne} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,oe=C("div")`
  position: absolute;
`,ce=C("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,de=L`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,le=C("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${de} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ue=({toast:e})=>{let{icon:t,type:a,iconTheme:r}=e;return void 0!==t?"string"==typeof t?i.createElement(le,null,t):t:"blank"===a?null:i.createElement(ce,null,i.createElement(re,{...r}),"loading"!==a&&i.createElement(oe,null,"error"===a?i.createElement(te,{...r}):i.createElement(ie,{...r})))},pe=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,fe=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,me=C("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,he=C("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ye=i.memo((({toast:e,position:t,style:a,children:r})=>{let s=e.height?((e,t)=>{let a=e.includes("top")?1:-1,[r,s]=N()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[pe(a),fe(a)];return{animation:t?`${L(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${L(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},n=i.createElement(ue,{toast:e}),o=i.createElement(he,{...e.ariaProps},$(e.message,e));return i.createElement(me,{className:e.className,style:{...s,...a,...e.style}},"function"==typeof r?r({icon:n,message:o}):i.createElement(i.Fragment,null,n,o))}));!function(e,t,a,r){I.p=t,k=e,x=a,T=r}(i.createElement);var ge=({id:e,className:t,style:a,onHeightUpdate:r,children:s})=>{let n=i.useCallback((t=>{if(t){let a=()=>{let a=t.getBoundingClientRect().height;r(e,a)};a(),new MutationObserver(a).observe(t,{subtree:!0,childList:!0,characterData:!0})}}),[e,r]);return i.createElement("div",{ref:n,className:t,style:a},s)},ve=D`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,be=({reverseOrder:e,position:t="top-center",toastOptions:a,gutter:r,children:s,containerStyle:n,containerClassName:o})=>{let{toasts:c,handlers:d}=Y(a);return i.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...n},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map((a=>{let n=a.position||t,o=((e,t)=>{let a=e.includes("top"),r=a?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:N()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...r,...s}})(n,d.calculateOffset(a,{reverseOrder:e,gutter:r,defaultPosition:t}));return i.createElement(ge,{id:a.id,key:a.id,onHeightUpdate:d.updateHeight,className:a.visible?ve:"",style:o},"custom"===a.type?$(a.message,a):s?s(a):i.createElement(ye,{toast:a,position:n}))})))};const _e=new class{instance;baseURL={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}?.VITE_API_URL||"/api";constructor(){this.instance=p.create({baseURL:this.baseURL,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.instance.interceptors.request.use((e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e))),this.instance.interceptors.response.use((e=>e),(async e=>{const t=e.config;if(401===e.response?.status&&!t._retry){t._retry=!0;try{const e=localStorage.getItem("refreshToken");if(e){const a=await this.refreshToken(e);if(a.data?.accessToken){const{accessToken:e}=a.data;return localStorage.setItem("accessToken",e),t.headers.Authorization=`Bearer ${e}`,this.instance(t)}}}catch(a){return localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(a)}}return Promise.reject(e)}))}async login(e){return(await this.instance.post("/auth/login",e)).data}async register(e){return(await this.instance.post("/auth/register",e)).data}async refreshToken(e){return(await this.instance.post("/auth/refresh",{refreshToken:e})).data}async logout(){return(await this.instance.post("/auth/logout")).data}async getProfile(){return(await this.instance.get("/auth/profile")).data}async updateProfile(e){return(await this.instance.put("/auth/profile",e)).data}async changePassword(e){return(await this.instance.post("/auth/change-password",e)).data}async getProjects(){return(await this.instance.get("/projects")).data}async getProject(e){return(await this.instance.get(`/projects/${e}`)).data}async createProject(e){return(await this.instance.post("/projects",e)).data}async updateProject(e,t){return(await this.instance.put(`/projects/${e}`,t)).data}async deleteProject(e){return(await this.instance.delete(`/projects/${e}`)).data}async getTasks(e){const t={};e?.page&&(t.page=e.page),e?.limit&&(t.limit=e.limit),e?.filters&&Object.entries(e.filters).forEach((([e,a])=>{null!=a&&""!==a&&(Array.isArray(a)&&a.length>0?t[e]=a:Array.isArray(a)||(t[e]=a))}));return(await this.instance.get("/tasks",{params:t})).data}async getTask(e){return(await this.instance.get(`/tasks/${e}`)).data}async createTask(e){return(await this.instance.post("/tasks",e)).data}async updateTask(e,t){return(await this.instance.put(`/tasks/${e}`,t)).data}async deleteTask(e){return(await this.instance.delete(`/tasks/${e}`)).data}async searchTasks(e){return(await this.instance.get(`/tasks/search?q=${encodeURIComponent(e)}`)).data}async getTags(){return(await this.instance.get("/tags")).data}async createTag(e){return(await this.instance.post("/tags",e)).data}async updateTag(e,t){return(await this.instance.put(`/tags/${e}`,t)).data}async deleteTag(e){return(await this.instance.delete(`/tags/${e}`)).data}async addTagToTask(e,t){return(await this.instance.post(`/tasks/${e}/tags/${t}`)).data}async removeTagFromTask(e,t){return(await this.instance.delete(`/tasks/${e}/tags/${t}`)).data}async getTimeEntries(e){return(await this.instance.get("/time-entries",{params:e})).data}async createTimeEntry(e){return(await this.instance.post("/time-entries",e)).data}async updateTimeEntry(e,t){return(await this.instance.put(`/time-entries/${e}`,t)).data}async deleteTimeEntry(e){return(await this.instance.delete(`/time-entries/${e}`)).data}async startTimer(e,t){return(await this.instance.post(`/time-entries/tasks/${e}/start`,{description:t})).data}async stopTimer(e){return(await this.instance.put(`/time-entries/${e}/stop`)).data}async getActiveTimer(){return(await this.instance.get("/time-entries/active")).data}async getTimeStats(e){return(await this.instance.get(`/time-entries/tasks/${e}/stats`)).data}async getQuickFilters(){return(await this.instance.get("/filters/quick")).data}async getUserFilters(){return(await this.instance.get("/filters/saved")).data}async createUserFilter(e){return(await this.instance.post("/filters/saved",e)).data}async updateUserFilter(e,t){return(await this.instance.put(`/filters/saved/${e}`,t)).data}async deleteUserFilter(e){return(await this.instance.delete(`/filters/saved/${e}`)).data}async getNotifications(e){return(await this.instance.get("/notifications",{params:e})).data}async markNotificationAsRead(e){return(await this.instance.put(`/notifications/${e}/read`)).data}async markAllNotificationsAsRead(){return(await this.instance.put("/notifications/read-all")).data}async deleteNotification(e){return(await this.instance.delete(`/notifications/${e}`)).data}async getReminderSettings(){return(await this.instance.get("/reminders/settings")).data}async updateReminderSettings(e){return(await this.instance.put("/reminders/settings",e)).data}async getScheduledReminders(e){return(await this.instance.get("/reminders/scheduled",{params:e})).data}async createScheduledReminder(e){return(await this.instance.post("/reminders/scheduled",e)).data}async deleteScheduledReminder(e){return(await this.instance.delete(`/reminders/scheduled/${e}`)).data}async scheduleDeadlineReminders(){return(await this.instance.post("/reminders/schedule-deadlines")).data}async getDashboardMetrics(e=30){return(await this.instance.get(`/analytics/dashboard?period=${e}`)).data}async getTimeChartData(e){return(await this.instance.get("/analytics/time-chart",{params:e})).data}async getProjectReport(e){return(await this.instance.get("/analytics/projects",{params:e})).data}async exportReport(e,t){return(await this.instance.get(`/analytics/export/${e}`,{params:t,responseType:"blob"})).data}async uploadAvatar(e){const t=new FormData;t.append("avatar",e);return(await this.instance.post("/auth/avatar",t,{headers:{"Content-Type":"multipart/form-data"}})).data}async healthCheck(){return(await p.get(`${this.baseURL.replace("/api","")}/health`)).data}},we=new Map,je=e=>{const t=we.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},ke=(e,t={})=>(a,r,s)=>{const{enabled:n,anonymousActionType:i,store:o,...c}=t;let d;try{d=null!=n&&n&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(h){}if(!d)return e(a,r,s);const{connection:l,...u}=((e,t,a)=>{if(void 0===e)return{type:"untracked",connection:t.connect(a)};const r=we.get(a.name);if(r)return{type:"tracked",store:e,...r};const s={connection:t.connect(a),stores:{}};return we.set(a.name,s),{type:"tracked",store:e,...s}})(o,d,c);let p=!0;s.setState=(e,t,n)=>{const d=a(e,t);if(!p)return d;const u=void 0===n?{type:i||"anonymous"}:"string"==typeof n?{type:n}:n;return void 0===o?(null==l||l.send(u,r()),d):(null==l||l.send({...u,type:`${o}/${u.type}`},{...je(c.name),[o]:s.getState()}),d)};const f=(...e)=>{const t=p;p=!1,a(...e),p=t},m=e(s.setState,r,s);if("untracked"===u.type?null==l||l.init(m):(u.stores[u.store]=s,null==l||l.init(Object.fromEntries(Object.entries(u.stores).map((([e,t])=>[e,e===u.store?m:t.getState()]))))),s.dispatchFromDevtools&&"function"==typeof s.dispatch){const e=s.dispatch;s.dispatch=(...t)=>{e(...t)}}return l.subscribe((e=>{var t;switch(e.type){case"ACTION":if("string"!=typeof e.payload)return;return xe(e.payload,(e=>{if("__setState"!==e.type)s.dispatchFromDevtools&&"function"==typeof s.dispatch&&s.dispatch(e);else{if(void 0===o)return void f(e.state);Object.keys(e.state).length;const t=e.state[o];if(null==t)return;JSON.stringify(s.getState())!==JSON.stringify(t)&&f(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return f(m),void 0===o?null==l?void 0:l.init(s.getState()):null==l?void 0:l.init(je(c.name));case"COMMIT":return void 0===o?void(null==l||l.init(s.getState())):null==l?void 0:l.init(je(c.name));case"ROLLBACK":return xe(e.state,(e=>{if(void 0===o)return f(e),void(null==l||l.init(s.getState()));f(e[o]),null==l||l.init(je(c.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return xe(e.state,(e=>{void 0!==o?JSON.stringify(s.getState())!==JSON.stringify(e[o])&&f(e[o]):f(e)}));case"IMPORT_STATE":{const{nextLiftedState:a}=e.payload,r=null==(t=a.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return f(void 0===o?r:r[o]),void(null==l||l.send(null,a))}case"PAUSE_RECORDING":return p=!p}return}})),m},xe=(e,t)=>{let a;try{a=JSON.parse(e)}catch(S){}void 0!==a&&t(a)};function Te(e,t){let a;try{a=e()}catch(r){return}return{getItem:e=>{var r;const s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),n=null!=(r=a.getItem(e))?r:null;return n instanceof Promise?n.then(s):s(n)},setItem:(e,r)=>a.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>a.removeItem(e)}}const Se=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then:e=>Se(e)(a),catch(e){return this}}}catch(S){return{then(e){return this},catch:t=>Se(t)(S)}}},Ee=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(a,r,s)=>{let n={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const o=new Set,c=new Set;let d;try{d=n.getStorage()}catch(y){}if(!d)return e(((...e)=>{a(...e)}),r,s);const l=Se(n.serialize),u=()=>{const e=n.partialize({...r()});let t;const a=l({state:e,version:n.version}).then((e=>d.setItem(n.name,e))).catch((e=>{t=e}));if(t)throw t;return a},p=s.setState;s.setState=(e,t)=>{p(e,t),u()};const f=e(((...e)=>{a(...e),u()}),r,s);let m;const h=()=>{var e;if(!d)return;i=!1,o.forEach((e=>e(r())));const t=(null==(e=n.onRehydrateStorage)?void 0:e.call(n,r()))||void 0;return Se(d.getItem.bind(d))(n.name).then((e=>{if(e)return n.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return e.state;if(n.migrate)return n.migrate(e.state,e.version)}})).then((e=>{var t;return m=n.merge(e,null!=(t=r())?t:f),a(m,!0),u()})).then((()=>{null==t||t(m,void 0),i=!0,c.forEach((e=>e(m)))})).catch((e=>{null==t||t(void 0,e)}))};return s.persist={setOptions:e=>{n={...n,...e},e.getStorage&&(d=e.getStorage())},clearStorage:()=>{null==d||d.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>h(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},h(),m||f})(e,t):((e,t)=>(a,r,s)=>{let n={storage:Te((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const o=new Set,c=new Set;let d=n.storage;if(!d)return e(((...e)=>{a(...e)}),r,s);const l=()=>{const e=n.partialize({...r()});return d.setItem(n.name,{state:e,version:n.version})},u=s.setState;s.setState=(e,t)=>{u(e,t),l()};const p=e(((...e)=>{a(...e),l()}),r,s);let f;s.getInitialState=()=>p;const m=()=>{var e,t;if(!d)return;i=!1,o.forEach((e=>{var t;return e(null!=(t=r())?t:p)}));const s=(null==(t=n.onRehydrateStorage)?void 0:t.call(n,null!=(e=r())?e:p))||void 0;return Se(d.getItem.bind(d))(n.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===n.version)return[!1,e.state];if(n.migrate)return[!0,n.migrate(e.state,e.version)]}return[!1,void 0]})).then((e=>{var t;const[s,i]=e;if(f=n.merge(i,null!=(t=r())?t:p),a(f,!0),s)return l()})).then((()=>{null==s||s(f,void 0),f=r(),i=!0,c.forEach((e=>e(f)))})).catch((e=>{null==s||s(void 0,e)}))};return s.persist={setOptions:e=>{n={...n,...e},e.storage&&(d=e.storage)},clearStorage:()=>{null==d||d.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(c.add(e),()=>{c.delete(e)})},n.skipHydration||m(),f||p})(e,t);var Pe=Symbol.for("immer-nothing"),Oe=Symbol.for("immer-draftable"),Ae=Symbol.for("immer-state");function Ie(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Re=Object.getPrototypeOf;function Fe(e){return!!e&&!!e[Ae]}function ze(e){return!!e&&(Le(e)||Array.isArray(e)||!!e[Oe]||!!e.constructor?.[Oe]||Ke(e)||Me(e))}var De=Object.prototype.constructor.toString();function Le(e){if(!e||"object"!=typeof e)return!1;const t=Re(e);if(null===t)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object||"function"==typeof a&&Function.toString.call(a)===De}function Ce(e,t){0===$e(e)?Reflect.ownKeys(e).forEach((a=>{t(a,e[a],e)})):e.forEach(((a,r)=>t(r,a,e)))}function $e(e){const t=e[Ae];return t?t.type_:Array.isArray(e)?1:Ke(e)?2:Me(e)?3:0}function qe(e,t){return 2===$e(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ne(e,t,a){const r=$e(e);2===r?e.set(t,a):3===r?e.add(a):e[t]=a}function Ke(e){return e instanceof Map}function Me(e){return e instanceof Set}function Ue(e){return e.copy_||e.base_}function Qe(e,t){if(Ke(e))return new Map(e);if(Me(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=Le(e);if(!0===t||"class_only"===t&&!a){const t=Object.getOwnPropertyDescriptors(e);delete t[Ae];let a=Reflect.ownKeys(t);for(let r=0;r<a.length;r++){const s=a[r],n=t[s];!1===n.writable&&(n.writable=!0,n.configurable=!0),(n.get||n.set)&&(t[s]={configurable:!0,writable:!0,enumerable:n.enumerable,value:e[s]})}return Object.create(Re(e),t)}{const t=Re(e);if(null!==t&&a)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function He(e,t=!1){return We(e)||Fe(e)||!ze(e)||($e(e)>1&&(e.set=e.add=e.clear=e.delete=Ve),Object.freeze(e),t&&Object.entries(e).forEach((([e,t])=>He(t,!0)))),e}function Ve(){Ie(2)}function We(e){return Object.isFrozen(e)}var Be,Je={};function Xe(e){const t=Je[e];return t||Ie(0),t}function Ye(){return Be}function Ge(e,t){t&&(Xe("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ze(e){et(e),e.drafts_.forEach(at),e.drafts_=null}function et(e){e===Be&&(Be=e.parent_)}function tt(e){return Be={drafts_:[],parent_:Be,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function at(e){const t=e[Ae];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function rt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return void 0!==e&&e!==a?(a[Ae].modified_&&(Ze(t),Ie(4)),ze(e)&&(e=st(t,e),t.parent_||it(t,e)),t.patches_&&Xe("Patches").generateReplacementPatches_(a[Ae].base_,e,t.patches_,t.inversePatches_)):e=st(t,a,[]),Ze(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Pe?e:void 0}function st(e,t,a){if(We(t))return t;const r=t[Ae];if(!r)return Ce(t,((s,n)=>nt(e,r,t,s,n,a))),t;if(r.scope_!==e)return t;if(!r.modified_)return it(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let s=t,n=!1;3===r.type_&&(s=new Set(t),t.clear(),n=!0),Ce(s,((s,i)=>nt(e,r,t,s,i,a,n))),it(e,t,!1),a&&e.patches_&&Xe("Patches").generatePatches_(r,a,e.patches_,e.inversePatches_)}return r.copy_}function nt(e,t,a,r,s,n,i){if(Fe(s)){const i=st(e,s,n&&t&&3!==t.type_&&!qe(t.assigned_,r)?n.concat(r):void 0);if(Ne(a,r,i),!Fe(i))return;e.canAutoFreeze_=!1}else i&&a.add(s);if(ze(s)&&!We(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;st(e,s),t&&t.scope_.parent_||"symbol"==typeof r||!Object.prototype.propertyIsEnumerable.call(a,r)||it(e,s)}}function it(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&He(t,a)}var ot={get(e,t){if(t===Ae)return e;const a=Ue(e);if(!qe(a,t))return function(e,t,a){const r=lt(t,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,a,t);const r=a[t];return e.finalized_||!ze(r)?r:r===dt(e.base_,t)?(pt(e),e.copy_[t]=ft(r,e)):r},has:(e,t)=>t in Ue(e),ownKeys:e=>Reflect.ownKeys(Ue(e)),set(e,t,a){const r=lt(Ue(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const r=dt(Ue(e),t),s=r?.[Ae];if(s&&s.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(a,r)&&(void 0!==a||qe(e.base_,t)))return!0;pt(e),ut(e)}return e.copy_[t]===a&&(void 0!==a||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==dt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,pt(e),ut(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const a=Ue(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:a[t]}:r},defineProperty(){Ie(11)},getPrototypeOf:e=>Re(e.base_),setPrototypeOf(){Ie(12)}},ct={};function dt(e,t){const a=e[Ae];return(a?Ue(a):e)[t]}function lt(e,t){if(!(t in e))return;let a=Re(e);for(;a;){const e=Object.getOwnPropertyDescriptor(a,t);if(e)return e;a=Re(a)}}function ut(e){e.modified_||(e.modified_=!0,e.parent_&&ut(e.parent_))}function pt(e){e.copy_||(e.copy_=Qe(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Ce(ot,((e,t)=>{ct[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ct.deleteProperty=function(e,t){return ct.set.call(this,e,t,void 0)},ct.set=function(e,t,a){return ot.set.call(this,e[0],t,a,e[0])};function ft(e,t){const a=Ke(e)?Xe("MapSet").proxyMap_(e,t):Me(e)?Xe("MapSet").proxySet_(e,t):function(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:Ye(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,n=ot;a&&(s=[r],n=ct);const{revoke:i,proxy:o}=Proxy.revocable(s,n);return r.draft_=o,r.revoke_=i,o}(e,t);return(t?t.scope_:Ye()).drafts_.push(a),a}function mt(e){if(!ze(e)||We(e))return e;const t=e[Ae];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=Qe(e,t.scope_.immer_.useStrictShallowCopy_)}else a=Qe(e,!0);return Ce(a,((e,t)=>{Ne(a,e,mt(t))})),t&&(t.finalized_=!1),a}var ht=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,a)=>{if("function"==typeof e&&"function"!=typeof t){const a=t;t=e;const r=this;return function(e=a,...s){return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!=typeof t&&Ie(6),void 0!==a&&"function"!=typeof a&&Ie(7),ze(e)){const s=tt(this),n=ft(e,void 0);let i=!0;try{r=t(n),i=!1}finally{i?Ze(s):et(s)}return Ge(s,a),rt(r,s)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===Pe&&(r=void 0),this.autoFreeze_&&He(r,!0),a){const t=[],s=[];Xe("Patches").generateReplacementPatches_(e,r,t,s),a(t,s)}return r}Ie(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...a)=>this.produceWithPatches(t,(t=>e(t,...a)));let a,r;const s=this.produce(e,t,((e,t)=>{a=e,r=t}));return[s,a,r]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ze(e)||Ie(8),Fe(e)&&(e=function(e){Fe(e)||Ie(10);return mt(e)}(e));const t=tt(this),a=ft(e,void 0);return a[Ae].isManual_=!0,et(t),a}finishDraft(e,t){const a=e&&e[Ae];a&&a.isManual_||Ie(9);const{scope_:r}=a;return Ge(r,t),rt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const r=t[a];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}a>-1&&(t=t.slice(a+1));const r=Xe("Patches").applyPatches_;return Fe(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},yt=ht.produce;ht.produceWithPatches.bind(ht),ht.setAutoFreeze.bind(ht),ht.setUseStrictShallowCopy.bind(ht),ht.applyPatches.bind(ht),ht.createDraft.bind(ht),ht.finishDraft.bind(ht);const gt=e=>(t,a,r)=>(r.setState=(e,a,...r)=>{const s="function"==typeof e?yt(e):e;return t(s,a,...r)},e(r.setState,a,r)),vt=f()(ke(Ee(gt((e=>({user:null,isAuthenticated:!1,loading:!1,login:(t,a)=>e((e=>{e.user=t,e.isAuthenticated=!0,localStorage.setItem("accessToken",a.accessToken),localStorage.setItem("refreshToken",a.refreshToken)})),logout:()=>e((e=>{e.user=null,e.isAuthenticated=!1,localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")})),updateUser:t=>e((e=>{e.user&&Object.assign(e.user,t)})),setLoading:t=>e((e=>{e.loading=t}))}))),{name:"auth-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}),{name:"auth-store"})),bt=f()(ke(gt((e=>({tasks:[],currentTask:null,filters:{},userFilters:[],loading:!1,pagination:{page:1,limit:20,total:0,totalPages:0},setTasks:t=>e((e=>{e.tasks=t})),addTask:t=>e((e=>{e.tasks.unshift(t)})),updateTask:(t,a)=>e((e=>{const r=e.tasks.findIndex((e=>e.id===t));-1!==r&&Object.assign(e.tasks[r],a),e.currentTask?.id===t&&Object.assign(e.currentTask,a)})),deleteTask:t=>e((e=>{e.tasks=e.tasks.filter((e=>e.id!==t)),e.currentTask?.id===t&&(e.currentTask=null)})),setCurrentTask:t=>e((e=>{e.currentTask=t})),setFilters:t=>e((e=>{Object.assign(e.filters,t)})),clearFilters:()=>e((e=>{e.filters={}})),setUserFilters:t=>e((e=>{e.userFilters=t})),addUserFilter:t=>e((e=>{e.userFilters.push(t)})),updateUserFilter:(t,a)=>e((e=>{const r=e.userFilters.findIndex((e=>e.id===t));-1!==r&&Object.assign(e.userFilters[r],a)})),deleteUserFilter:t=>e((e=>{e.userFilters=e.userFilters.filter((e=>e.id!==t))})),setLoading:t=>e((e=>{e.loading=t})),setPagination:t=>e((e=>{Object.assign(e.pagination,t)}))}))),{name:"tasks-store"})),_t=f()(ke(gt((e=>({projects:[],currentProject:null,loading:!1,setProjects:t=>e((e=>{e.projects=t})),addProject:t=>e((e=>{e.projects.push(t)})),updateProject:(t,a)=>e((e=>{const r=e.projects.findIndex((e=>e.id===t));-1!==r&&Object.assign(e.projects[r],a),e.currentProject?.id===t&&Object.assign(e.currentProject,a)})),deleteProject:t=>e((e=>{e.projects=e.projects.filter((e=>e.id!==t)),e.currentProject?.id===t&&(e.currentProject=null)})),setCurrentProject:t=>e((e=>{e.currentProject=t})),setLoading:t=>e((e=>{e.loading=t}))}))),{name:"projects-store"}));f()(ke(gt((e=>({tags:[],loading:!1,setTags:t=>e((e=>{e.tags=t})),addTag:t=>e((e=>{e.tags.push(t)})),updateTag:(t,a)=>e((e=>{const r=e.tags.findIndex((e=>e.id===t));-1!==r&&Object.assign(e.tags[r],a)})),deleteTag:t=>e((e=>{e.tags=e.tags.filter((e=>e.id!==t))})),setLoading:t=>e((e=>{e.loading=t}))}))),{name:"tags-store"}));const wt=f()(ke(gt((e=>({timeEntries:[],activeTimer:null,loading:!1,setTimeEntries:t=>e((e=>{e.timeEntries=t})),addTimeEntry:t=>e((e=>{e.timeEntries.unshift(t)})),updateTimeEntry:(t,a)=>e((e=>{const r=e.timeEntries.findIndex((e=>e.id===t));-1!==r&&Object.assign(e.timeEntries[r],a),e.activeTimer?.id===t&&Object.assign(e.activeTimer,a)})),deleteTimeEntry:t=>e((e=>{e.timeEntries=e.timeEntries.filter((e=>e.id!==t)),e.activeTimer?.id===t&&(e.activeTimer=null)})),setActiveTimer:t=>e((e=>{e.activeTimer=t})),setLoading:t=>e((e=>{e.loading=t}))}))),{name:"time-tracking-store"}));f()(ke(gt((e=>({notifications:[],unreadCount:0,loading:!1,setNotifications:t=>e((e=>{e.notifications=t,e.unreadCount=t.filter((e=>!e.read)).length})),addNotification:t=>e((e=>{e.notifications.unshift(t),t.read||(e.unreadCount+=1)})),markAsRead:t=>e((e=>{const a=e.notifications.find((e=>e.id===t));a&&!a.read&&(a.read=!0,e.unreadCount-=1)})),markAllAsRead:()=>e((e=>{e.notifications.forEach((e=>{e.read=!0})),e.unreadCount=0})),deleteNotification:t=>e((e=>{const a=e.notifications.find((e=>e.id===t));a&&!a.read&&(e.unreadCount-=1),e.notifications=e.notifications.filter((e=>e.id!==t))})),setLoading:t=>e((e=>{e.loading=t}))}))),{name:"notifications-store"}));const jt=f()(ke(Ee(gt((e=>({theme:"system",sidebarOpen:!0,deviceInfo:{isMobile:!1,isTablet:!1,isDesktop:!0},reminderSettings:null,setTheme:t=>e((e=>{e.theme=t})),toggleSidebar:()=>e((e=>{e.sidebarOpen=!e.sidebarOpen})),setSidebarOpen:t=>e((e=>{e.sidebarOpen=t})),setDeviceInfo:t=>e((e=>{e.deviceInfo=t,t.isMobile&&(e.sidebarOpen=!1)})),setReminderSettings:t=>e((e=>{e.reminderSettings=t}))}))),{name:"app-settings",partialize:e=>({theme:e.theme,sidebarOpen:e.sidebarOpen})}),{name:"app-settings-store"}));f()(ke(gt(((e,t)=>({isLoading:{},setLoading:(t,a)=>e((e=>{a?e.isLoading[t]=!0:delete e.isLoading[t]})),isAnyLoading:()=>Object.keys(t().isLoading).length>0}))),{name:"loading-store"}));const kt={auth:{profile:["auth","profile"]},tasks:{all:["tasks"],list:(e,t)=>["tasks","list",e,t],detail:e=>["tasks","detail",e],search:e=>["tasks","search",e]},projects:{all:["projects"],detail:e=>["projects","detail",e]},tags:{all:["tags"]},timeEntries:{all:["timeEntries"],list:e=>["timeEntries","list",e],active:["timeEntries","active"],stats:e=>["timeEntries","stats",e]},filters:{quick:["filters","quick"],user:["filters","user"]},notifications:{all:["notifications"],unread:["notifications","unread"]},reminders:{settings:["reminders","settings"],scheduled:["reminders","scheduled"]},analytics:{dashboard:e=>["analytics","dashboard",e],timeChart:e=>["analytics","timeChart",e],projects:e=>["analytics","projects",e]}},xt=()=>{const{setDeviceInfo:e}=jt(),t=i.useCallback((()=>{const e=window.innerWidth,t=navigator.userAgent;return{isMobile:e<=768||/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t),isTablet:e>768&&e<=1024,isDesktop:e>1024}}),[]);return i.useEffect((()=>{const a=()=>{e(t())};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)}),[t,e]),t()},Tt=()=>{const{user:e,isAuthenticated:t,login:a,logout:r,updateUser:s}=vt(),n=m(),i=h({mutationFn:e=>_e.login(e),onSuccess:e=>{e.success&&e.data&&(a(e.data.user,{accessToken:e.data.accessToken,refreshToken:e.data.refreshToken}),W.success("Success login!"),n.invalidateQueries())},onError:e=>{W.error(e.response?.data?.message||"Login error")}}),o=h({mutationFn:e=>_e.register(e),onSuccess:e=>{e.success&&e.data&&(a(e.data.user,{accessToken:e.data.accessToken,refreshToken:e.data.refreshToken}),W.success("Success registration!"),n.invalidateQueries())},onError:e=>{W.error(e.response?.data?.message||"Registration error")}}),c=h({mutationFn:()=>_e.logout(),onSuccess:()=>{r(),n.clear(),W.success("Success logout")}}),d=y({queryKey:kt.auth.profile,queryFn:()=>_e.getProfile(),enabled:t,staleTime:3e5});return{user:e,isAuthenticated:t,login:i.mutate,register:o.mutate,logout:c.mutate,updateUser:s,isLoggingIn:i.isPending,isRegistering:o.isPending,isLoggingOut:c.isPending,profileData:d.data?.data,isLoadingProfile:d.isLoading}},St=()=>{const e=m(),{updateUser:t}=vt();return h({mutationFn:e=>_e.updateProfile(e),onSuccess:a=>{a.success&&a.data&&(t(a.data),e.invalidateQueries({queryKey:kt.auth.profile}),W.success("Profile successfully updated!"))},onError:e=>{W.error(e.response?.data?.message||"Update error profile")}})},Et=()=>h({mutationFn:e=>_e.changePassword(e),onSuccess:e=>{e.success&&W.success("Password successfully changed!")},onError:e=>{W.error(e.response?.data?.message||"Change password error")}}),Pt=(e,t=1,a=20)=>{const{setTasks:r,setPagination:s}=bt(),n=y({queryKey:kt.tasks.list(e,t),queryFn:()=>_e.getTasks({page:t,limit:a,filters:e}),staleTime:1e4,refetchInterval:3e4});return i.useEffect((()=>{if(n.data?.success&&n.data.data?.data){r(n.data.data.data);const e={page:n.data.data.page,limit:n.data.data.limit,total:n.data.data.total,totalPages:n.data.data.totalPages,hasNext:n.data.data.page<n.data.data.totalPages,hasPrev:n.data.data.page>1};s(e)}}),[n.data,r,s]),{...n,tasks:n.data?.data?.data||[],pagination:n.data?.data?{page:n.data.data.page,limit:n.data.data.limit,total:n.data.data.total,totalPages:n.data.data.totalPages,hasNext:n.data.data.page<n.data.data.totalPages,hasPrev:n.data.data.page>1}:void 0}},Ot=()=>{const e=m(),{addTask:t}=bt();return h({mutationFn:e=>_e.createTask(e),onSuccess:a=>{a.success&&a.data&&(t(a.data),e.invalidateQueries({queryKey:kt.tasks.all}),W.success("Tasks created!"))},onError:e=>{W.error(e.response?.data?.message||"Creation error task")}})},At=()=>{const e=m(),{updateTask:t}=bt();return h({mutationFn:({id:e,data:t})=>_e.updateTask(e,t),onSuccess:(a,r)=>{a.success&&a.data&&(t(r.id,a.data),e.invalidateQueries({queryKey:kt.tasks.all}),W.success("Tasks updated!"))},onError:e=>{W.error(e.response?.data?.message||"Update error task")}})},It=()=>{const e=m(),{deleteTask:t}=bt();return h({mutationFn:e=>_e.deleteTask(e),onSuccess:(a,r)=>{t(r),e.invalidateQueries({queryKey:kt.tasks.all}),W.success("Tasks deleted!")},onError:e=>{W.error(e.response?.data?.message||"Deletion error task")}})},Rt=()=>{const{setProjects:e}=_t(),t=y({queryKey:kt.projects.all,queryFn:()=>_e.getProjects(),staleTime:3e4,refetchInterval:6e4});return i.useEffect((()=>{t.data?.success&&t.data.data&&e(t.data.data)}),[t.data,e]),{...t,projects:t.data?.data||[]}},Ft=()=>{const e=m(),{addProject:t}=_t();return h({mutationFn:e=>_e.createProject(e),onSuccess:a=>{a.success&&a.data&&(t(a.data),e.invalidateQueries({queryKey:kt.projects.all}),W.success("Project created!"))},onError:e=>{W.error(e.response?.data?.message||"Error creating project")}})},zt=()=>{const e=m(),{updateProject:t}=_t();return h({mutationFn:({id:e,data:t})=>_e.updateProject(e,t),onSuccess:(a,r)=>{a.success&&a.data&&(t(r.id,a.data),e.invalidateQueries({queryKey:kt.projects.all}),W.success("Project updated!"))},onError:e=>{W.error(e.response?.data?.message||"Error updating project")}})},Dt=()=>{const e=m(),{deleteProject:t}=_t();return h({mutationFn:e=>_e.deleteProject(e),onSuccess:(a,r)=>{t(r),e.invalidateQueries({queryKey:kt.projects.all}),W.success("Project deleted!")},onError:e=>{W.error(e.response?.data?.message||"Error deleting project")}})},Lt=()=>{const{setActiveTimer:e}=wt(),t=y({queryKey:kt.timeEntries.active,queryFn:()=>_e.getActiveTimer(),refetchInterval:1e3,staleTime:0});return i.useEffect((()=>{t.data?.success&&e(t.data.data||null)}),[t.data,e]),{...t,activeTimer:t.data?.data}},Ct=()=>{const e=m(),{setActiveTimer:t}=wt();return h({mutationFn:({taskId:e,description:t})=>_e.startTimer(e,t),onSuccess:a=>{a.success&&a.data&&(t(a.data),e.invalidateQueries({queryKey:kt.timeEntries.active}),e.invalidateQueries({queryKey:kt.timeEntries.all}),e.invalidateQueries({queryKey:kt.tasks.all}),e.invalidateQueries({queryKey:kt.timeEntries.stats(a.data.taskId)}),e.invalidateQueries({queryKey:kt.analytics.dashboard()}),e.invalidateQueries({queryKey:kt.analytics.timeChart()}),e.invalidateQueries({queryKey:kt.analytics.projects()}),W.success("Timer started!"))},onError:e=>{W.error(e.response?.data?.message||"Timer start error")}})},$t=()=>{const e=m(),{setActiveTimer:t}=wt();return h({mutationFn:e=>_e.stopTimer(e),onSuccess:a=>{a.success&&(t(null),e.invalidateQueries({queryKey:kt.timeEntries.all}),e.invalidateQueries({queryKey:kt.timeEntries.active}),e.invalidateQueries({queryKey:kt.tasks.all}),e.invalidateQueries({queryKey:kt.analytics.dashboard()}),e.invalidateQueries({queryKey:kt.analytics.timeChart()}),e.invalidateQueries({queryKey:kt.analytics.projects()}),e.invalidateQueries({queryKey:["timeEntries","stats"]}),W.success("Timer stopped!"))},onError:e=>{W.error(e.response?.data?.message||"Timer stop error")}})},qt=()=>{const e=m();return h({mutationFn:e=>_e.createTimeEntry(e),onSuccess:t=>{t.success&&t.data&&(e.invalidateQueries({queryKey:kt.timeEntries.all}),e.invalidateQueries({queryKey:kt.timeEntries.stats(t.data.taskId)}),e.invalidateQueries({queryKey:kt.tasks.all}),e.invalidateQueries({queryKey:kt.analytics.dashboard()}),e.invalidateQueries({queryKey:kt.analytics.timeChart()}),e.invalidateQueries({queryKey:kt.analytics.projects()}),W.success("Time entry created!"))},onError:e=>{W.error(e.response?.data?.message||"Creation error time entry")}})},Nt=e=>y({queryKey:kt.timeEntries.stats(e),queryFn:()=>_e.getTimeStats(e),enabled:!!e,staleTime:1e4,refetchInterval:3e4}),Kt=(e=30)=>y({queryKey:kt.analytics.dashboard(e),queryFn:()=>_e.getDashboardMetrics(e),staleTime:6e4,refetchInterval:12e4}),Mt=()=>h({mutationFn:({format:e,params:t})=>_e.exportReport(e,t),onSuccess:(e,t)=>{const a=(new Date).toISOString().replace(/T/,"-").replace(/:/g,"-").split(".")[0],r=window.URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download=`analytic-report-${a}.${t.format}`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(r),document.body.removeChild(s),W.success("Report downloaded!")},onError:e=>{W.error(e.response?.data?.message||"Report export error")}}),Ut=()=>{const{theme:e,setTheme:t}=jt(),a=i.useMemo((()=>"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),[]),r="system"===e?a:e;return i.useEffect((()=>{if("undefined"!=typeof window){const t=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{"system"===e&&window.dispatchEvent(new CustomEvent("themechange"))};return t.addEventListener("change",a),()=>t.removeEventListener("change",a)}}),[e]),{theme:e,currentTheme:r,setTheme:t,isDark:"dark"===r}},Qt=i.lazy((()=>j((()=>import("./LoginPage-aacb47f0.js")),["assets/LoginPage-aacb47f0.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js","assets/index-2d5a8536.js","assets/utils-18e1ec00.js","assets/LoadingSpinner-1ede48dd.js","assets/proxy-40ab8537.js"]))),Ht=i.lazy((()=>j((()=>import("./RegisterPage-a99125c1.js")),["assets/RegisterPage-a99125c1.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js","assets/proxy-40ab8537.js","assets/utils-18e1ec00.js"]))),Vt=i.lazy((()=>j((()=>import("./Layout-e4a545ad.js")),["assets/Layout-e4a545ad.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js","assets/index-2d5a8536.js","assets/utils-18e1ec00.js","assets/proxy-40ab8537.js"]))),Wt=i.lazy((()=>j((()=>import("./TasksPage-3365ead6.js")),["assets/TasksPage-3365ead6.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js","assets/index-2d5a8536.js","assets/utils-18e1ec00.js"]))),Bt=i.lazy((()=>j((()=>import("./TaskDetailPage-02339b91.js")),["assets/TaskDetailPage-02339b91.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js"]))),Jt=i.lazy((()=>j((()=>import("./ProjectsPage-e298d964.js")),["assets/ProjectsPage-e298d964.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js","assets/index-2d5a8536.js","assets/utils-18e1ec00.js"]))),Xt=i.lazy((()=>j((()=>import("./ProjectDetailPage-14f0f13f.js")),["assets/ProjectDetailPage-14f0f13f.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js"]))),Yt=i.lazy((()=>j((()=>import("./AnalyticsPage-b7feb801.js")),["assets/AnalyticsPage-b7feb801.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js","assets/charts-2283d87c.js","assets/utils-18e1ec00.js"]))),Gt=i.lazy((()=>j((()=>import("./ProfilePage-47256866.js")),["assets/ProfilePage-47256866.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js","assets/index-2d5a8536.js","assets/utils-18e1ec00.js"]))),Zt=i.lazy((()=>j((()=>import("./TestPage-6bd88692.js")),["assets/TestPage-6bd88692.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js","assets/utils-18e1ec00.js"]))),ea=i.lazy((()=>j((()=>import("./NotFoundPage-12e8dab2.js")),["assets/NotFoundPage-12e8dab2.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js"]))),ta=i.lazy((()=>j((()=>import("./LoadingSpinner-1ede48dd.js")),["assets/LoadingSpinner-1ede48dd.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js"]))),aa=i.lazy((()=>j((()=>import("./ErrorBoundary-2d354e05.js")),["assets/ErrorBoundary-2d354e05.js","assets/mui-56a233f4.js","assets/vendor-2c736f18.js"]))),ra=new g({defaultOptions:{queries:{staleTime:3e5,retry:(e,t)=>(!t?.response?.status||![401,403,404].includes(t.response.status))&&e<3},mutations:{retry:!1}}}),sa=({children:e})=>{const{isAuthenticated:a}=Tt();return a?t.jsx(t.Fragment,{children:e}):t.jsx(l,{to:"/login",replace:!0})},na=({children:e})=>{const{isAuthenticated:a}=Tt();return a?t.jsx(l,{to:"/tasks",replace:!0}):t.jsx(t.Fragment,{children:e})},ia=()=>{const{currentTheme:n}=Ut();xt();const u=e({palette:{mode:n,primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0"},secondary:{main:"#dc004e",light:"#ff5983",dark:"#9a0036"},background:{default:"dark"===n?"#121212":"#f5f5f5",paper:"dark"===n?"#1e1e1e":"#ffffff"},text:{primary:"dark"===n?"#ffffff":"#333333",secondary:"dark"===n?"#aaaaaa":"#666666"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:700,fontSize:"2.5rem"},h2:{fontWeight:600,fontSize:"2rem"},h3:{fontWeight:600,fontSize:"1.75rem"},h4:{fontWeight:600,fontSize:"1.5rem"},h5:{fontWeight:600,fontSize:"1.25rem"},h6:{fontWeight:600,fontSize:"1rem"},body1:{fontSize:"1rem",lineHeight:1.5},body2:{fontSize:"0.875rem",lineHeight:1.43}},shape:{borderRadius:12},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600,borderRadius:8,padding:"8px 16px"},contained:{boxShadow:"none","&:hover":{boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}}},MuiCard:{styleOverrides:{root:{boxShadow:"dark"===n?"0 1px 3px rgba(255,255,255,0.05)":"0 1px 3px rgba(0,0,0,0.12)",borderRadius:12}}},MuiChip:{styleOverrides:{root:{borderRadius:6}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{borderRadius:8}}}},MuiPaper:{styleOverrides:{root:{borderRadius:12}}}}}),p=t.jsx(s,{styles:e=>({"*":{boxSizing:"border-box"},html:{MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",display:"flex",flexDirection:"column",minHeight:"100%",width:"100%"},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",minHeight:"100%",width:"100%",margin:0,padding:0,fontFamily:e.typography.fontFamily,backgroundColor:e.palette.background.default,color:e.palette.text.primary},"#root":{display:"flex",flex:"1 1 auto",flexDirection:"column",height:"100%",width:"100%"},".recharts-text":{fill:e.palette.text.primary},"*::-webkit-scrollbar":{width:"8px",height:"8px"},"*::-webkit-scrollbar-track":{background:e.palette.action.hover,borderRadius:"4px"},"*::-webkit-scrollbar-thumb":{background:e.palette.action.disabled,borderRadius:"4px","&:hover":{background:e.palette.action.selected}},"*:focus-visible":{outline:`2px solid ${e.palette.primary.main}`,outlineOffset:"2px"},".fade-in":{animation:"fadeIn 0.3s ease-in"},".slide-up":{animation:"slideUp 0.3s ease-out"},"@keyframes fadeIn":{from:{opacity:0},to:{opacity:1}},"@keyframes slideUp":{from:{opacity:0,transform:"translateY(20px)"},to:{opacity:1,transform:"translateY(0)"}}})});return t.jsx(v,{client:ra,children:t.jsxs(a,{theme:u,children:[t.jsx(r,{}),p,t.jsx(aa,{children:t.jsx(o,{children:t.jsx("div",{className:"App",children:t.jsxs(c,{children:[t.jsx(d,{path:"/login",element:t.jsx(na,{children:t.jsx(i.Suspense,{fallback:t.jsx(ta,{}),children:t.jsx(Qt,{})})})}),t.jsx(d,{path:"/register",element:t.jsx(na,{children:t.jsx(i.Suspense,{fallback:t.jsx(ta,{}),children:t.jsx(Ht,{})})})}),t.jsx(d,{path:"/test",element:t.jsx(i.Suspense,{fallback:t.jsx(ta,{}),children:t.jsx(Zt,{})})}),t.jsx(d,{path:"/*",element:t.jsx(sa,{children:t.jsx(Vt,{children:t.jsx(i.Suspense,{fallback:t.jsx(ta,{}),children:t.jsxs(c,{children:[t.jsx(d,{path:"/",element:t.jsx(l,{to:"/tasks",replace:!0})}),t.jsx(d,{path:"/tasks",element:t.jsx(Wt,{})}),t.jsx(d,{path:"/tasks/:id",element:t.jsx(Bt,{})}),t.jsx(d,{path:"/projects",element:t.jsx(Jt,{})}),t.jsx(d,{path:"/projects/:id",element:t.jsx(Xt,{})}),t.jsx(d,{path:"/analytics",element:t.jsx(Yt,{})}),t.jsx(d,{path:"/profile",element:t.jsx(Gt,{})}),t.jsx(d,{path:"*",element:t.jsx(ea,{})})]})})})})})]})})})}),t.jsx(be,{position:"bottom-right",toastOptions:{duration:4e3,style:{background:u.palette.background.paper,color:u.palette.text.primary,border:`1px solid ${u.palette.divider}`,borderRadius:"8px",boxShadow:u.shadows[4]},success:{iconTheme:{primary:u.palette.success.main,secondary:u.palette.success.contrastText}},error:{iconTheme:{primary:u.palette.error.main,secondary:u.palette.error.contrastText}}}})]})})};"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/sw.js").then((e=>{})).catch((e=>{}))}));b.createRoot(document.getElementById("root")).render(t.jsx(u.StrictMode,{children:t.jsx(ia,{})}));export{Ut as a,xt as b,Lt as c,jt as d,Pt as e,Rt as f,Ot as g,At as h,It as i,Ct as j,$t as k,qt as l,Nt as m,Ft as n,zt as o,Dt as p,Kt as q,Mt as r,St as s,Et as t,Tt as u,_e as v};
